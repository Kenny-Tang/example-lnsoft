server:
  port: 8080

spring:
  application:
    name: user-service
  profiles:
    active: dev
    #sqlite
#  datasource:
#    # url: jdbc:sqlite:/Users/kenny/IdeaProjects/file-storage-db # åˆ›å»ºçš„sqliteæ•°æ®åº“æ‰€åœ¨è·¯å¾„
#    url: jdbc:sqlite:file:/Users/kenny/Library/DBeaverData/workspace6/.metadata/sample-database-sqlite-1/Chinook.db?journal_mode=WAL&busy_timeout=30000&synchronous=NORMAL&cache=shared&read_uncommitted=true
#    username: # å› ä¸ºæ²¡æœ‰ç”¨æˆ·åå’Œå¯†ç ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªå‚æ•°å°±æ²¡æœ‰å€¼
#    password:
#    driver-class-name: org.sqlite.JDBC # sqliteé©±åŠ¨
#    schema: classpath:schema.sql
#    initialization-mode: always
#    hikari:
#      maximum-pool-size: 1
#      minimum-idle: 1
  cloud:
    nacos:
      config:
        server-addr: 127.0.0.1:8848
        namespace: public
        watch-delay: 5000  # å»¶è¿Ÿæ³¨å†Œæ—¶é—´ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰
        group: DEFAULT_GROUP
        file-extension: yaml
        refresh-enabled: true
        fail-fast: false    # ğŸš¨ å…³é”®é…ç½®ï¼šNacos ä¸å¯ç”¨æ—¶å¯åŠ¨ä¸æŠ¥é”™
      discovery:
        server-addr: 127.0.0.1:8848
        namespace: public
        group: DEFAULT_GROUP
        heartbeat-interval: 5000  # æ¯5ç§’å‘é€ä¸€æ¬¡å¿ƒè·³
        fail-fast: false    # ğŸš¨ å…³é”®é…ç½®ï¼šNacos ä¸å¯ç”¨æ—¶å¯åŠ¨ä¸æŠ¥é”™
  config:
    import: optional:nacos:${spring.application.name}.yaml

mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true
  global-config:
    db-config:
      id-type: auto




management:
  endpoints:
    web:
      exposure:
        include: health,info

# gRPC æœåŠ¡ç«¯é…ç½®
grpc:
  server:
    port: 9090
    # å¯ç”¨åå°„æœåŠ¡ï¼ˆå¯é€‰ï¼Œç”¨äºè°ƒè¯•ï¼‰
    reflection-service-enabled: true
    # å¯ç”¨å¥åº·æ£€æŸ¥
    health-service-enabled: true
    # æœ€å¤§æ¶ˆæ¯å¤§å°
    max-inbound-message-size: 4MB
    # æœ€å¤§å…ƒæ•°æ®å¤§å°
    max-inbound-metadata-size: 8KB
  tunnel:
    server:
      thread-pool-size: 20
      queue-capacity: 1000
      heartbeat-check-interval: 30000

#  client:
#    myGrpcClient: # å®¢æˆ·ç«¯åç§°ï¼Œç”¨äºæ³¨å…¥å’ŒåŒºåˆ†å¤šä¸ªå®¢æˆ·ç«¯
#      address: static://localhost:9090  # æœåŠ¡ç«¯åœ°å€ï¼ˆstatic:// æ˜¯å¿…è¦çš„å‰ç¼€ï¼‰
#      negotiationType: plaintext        # åŠ å¯†æ–¹å¼ï¼šplaintext / TLS
#      enableKeepAlive: true            # å¼€å¯å¿ƒè·³ä¿æ´»ï¼ˆå¯é€‰ï¼‰
#      keepAliveWithoutCalls: true      # å³ä½¿æ— è°ƒç”¨ä¹Ÿå‘é€å¿ƒè·³
#      maxInboundMessageSize: 4MB       # è®¾ç½®æœ€å¤§æ¶ˆæ¯å¤§å°
#      deadline: 5s                     # è®¾ç½®é»˜è®¤è°ƒç”¨è¶…æ—¶


logging:
  level:
    org.springframework.cloud.gateway: DEBUG
    org.springframework.cloud.loadbalancer: TRACE
    reactor.netty.http.client: DEBUG
